# 쓰레드
- 애플리케이션 코드를 하나하나 순차적으로 실행하는 것은 쓰레드이다
- 쓰레드는 한번에 하나의 라인만 수행
- 동시 처리가 필요하면 쓰레드를 추가로 생성한다

요청마다 쓰레드를 생성한다면?
>장점<br>
>리소스(CPU,메모리)가 허용할때까지 동시 요청을 처리할 수 있다<br>
>하나의 쓰레드가 지연되어도 나머지 쓰레드는 정상 작동한다<br>

>단점<br>
>>쓰레드는 생성 비용이 매우 비싸다<br>
    >- 고객의 요청이 올때마다 쓰레드를 생성하면 응답 속도가 늦어진다
    >- 쓰레드는 컨텍스트 스위칭 비용이 발생한다(요청을 처리할때 요청마다 쓰레드가 도는데 이 때 전환되는 것을 쓰레드 컨텍스트 스위칭이라 한다)<br>
>>하나의 쓰레드가 지연되어도 나머지 쓰레드는 정상 작동한다<br>
>- 고객 요청이 너무 많이오면 CPU, 메모리 임계점을 넘어서 서버가 죽을 수 있다.

## 쓰레드 생성에 제한을 두는 것
### 쓰레드 풀
- 요청마다 쓰레드 생성의 단점을 보완한 것이다.
- 필요한 쓰레드를 쓰레드 풀에 보관하고 관리한다. 
- 쓰레드가 필요하면 생성되어 있는 쓰레드를 쓰레드 풀에서 꺼내어 사용하고
- 사용을 종료하면 쓰레드 풀에 반납한다.
- 쓰레드풀의 초과치를 넘으면 쓰레드 대기를 하거나 거절을 한다

> 장점<br>
> 쓰레드가 미리 생성되어 있으므로 쓰레드를 생성하고 종료하는 비용이 절약되고 응답 시간이 빠르다.<br>
> 생성 가능한 쓰레드의 최대치가 있으므로 너무 많은 요청이 들어와도 기존 요청은 안전하게 처리할 수 있다.


# WAS의 멀티 쓰레드 지원
- 멀티 쓰레드에 대한 부분은 WAS가 처리
- 개발자가 멀티 쓰레드 관련 코드를 신경쓰지 않아도 된다
- 멀티 쓰레드 환경이므로 싱글톤 객체는 주의해서 사용!(공유 변수들..)