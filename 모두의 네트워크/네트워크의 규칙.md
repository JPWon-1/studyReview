# 네트워크에서 정해놓은 통신 규약이 있는데 이를 `프로토콜` 이라고 한다.

네트워크에서는 데이터를 주고 받기 위한 통신 규격이 정해져 있다.

`데이터의 송수신`은 컴퓨터에서 컴퓨터로 데이터를 전송하는 것을 의미한다.
이때 컴퓨터 내부에서 여러가지 일을 하는데, 이런 일을 일곱 개 계층으로 나눠서 한다.
이 계층을 OSI 7계층이라고 한다.

`OSI 모델 각 계층의 역할`
|계층|이름|설명|
|------|---|---|
|7계층|응용계층(Application Layer)|이메일 & 파일 전송 웹 사이트 조회 등 애플리케이션에 대한 서비스를 제공한다.|
|6계층|표현계층(Presentation Layer)|문자코드, 압축, 암호화 등의 데이터를 변환한다.|
|5계층|세션계층(Session Layer)|세션 체결, 통신 방식을 결정한다.|
|4계층|전송계층(Transport Layer)|신뢰할 수 있는 통신을 구현한다.|
|3계층|네트워크 계층(Network Layer)|다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소를 결정한다.|
|2계층|데이터 링크 계층(Data Link Layer)|네트워크 기기 간의 데이터 전송 및 물리 주소를 결정한다.|
|1계층|물리 계층(Physical Layer)|시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어한다.|

`TCP/IP 모델`
TCP/IP 모델은 응용 계층, 전송계층, 인터넷계층, 네트워크 접속 계층으로 나뉘어 진다.

| OSI7계층       |     |     TCP/IP모델     |
| -------------- | --- | :----------------: |
| 응용계층       |     |      응용계층      |
| 표현계층       |     |         ""         |
| 세션계층       |     |         ""         |
| 전송계층       |     |      전송계층      |
| 네트워크계층   |     |    인터넷 계층     |
| 데이터링크계층 |     | 네트워크 접속 계층 |
| 물리계층       |     |         ""         |


# 캡슐화와 역캡슐화
### 데이터를 송수신할 때는 캡슐화와 역캡슐화가 이루어진다.
데이터를 전송하려면 데이터의 앞부분에 필요한 정보를 붙여서 다음 계층으로 보내야 하는데
이를 `헤더` 라고 한다. 헤더에는 **데이터를 전달받을 상대방에 대한 정보**도 포함되어 있다.

이처럼 헤더를 붙여 나가는 걸 캡슐화라고 한다. 한편 데이터를 받는 쪽에서는 헤더를 하나씩 제거해야하는데 이것을 역캡슐화라고 한다.


|계층               |내용                                    |캡슐화|
|-------------------|----------------------------------------|---|
|1. 응용 계층       |                                        |웹사이트 요청 데이터|
|2. 전송 계층       |전송 계층 헤더 추가                     |웹사이트 요청 데이터|
|3. 네트워크 계층   |네트워크 계층 헤더 추가                 |전송 계층 헤더 + 웹사이트 요청 데이터|
|4. 데이터 링크 계층|데이터 링크 계층 헤더 추가              |네트워크 계층 헤더  + 전송 계층 헤더 + 웹사이트 요청 데이터 + **데이터 링크 계층 트레일러**|


`트레일러`는 데이터를 전달할 때 데이터의 마지막에 추가하는 정보를 말한다.

이렇게 데이터 링크 계층에서 만들어진 데이터는 최종적으로 전기 신호로 변화돼서 수신측에 도착한다. 이 과정을 `캡슐화` 라고 한다.

|계층               |내용                                                      |역캡슐화|
|-------------------|----------------------------------------------------------|---|
|9. 응용 계층       |                                                          |웹사이트 요청 데이터|
|8. 전송 계층       |전송 계층 헤더 제거                                       |웹사이트 요청 데이터|
|7. 네트워크 계층   |네트워크 계층 헤더 제거                                   |전송 계층 헤더 + 웹사이트 요청 데이터|
|6. 데이터 링크 계층|데이터 링크 계층 헤더 제거, 데이터 링크 계층 트레일러 제거|네트워크 계층 헤더  + 전송 계층 헤더 + 웹사이트 요청 데이터|

---
## 용어 정리
* 프로토콜 : 컴퓨터 간에 정보를 주고받을 떄의 통신 방법에 대한 규칙이나 표준
* OSI모델(Open Standards Interconnection model) : 국제표준화 기구(ISO) 가 1977년에 정의한 국제 통신 표준 규약. 네트워크의 기본 구조를 일곱 개 계층으로 나눠서 표준화한 통신 규약으로 현재 다른 모든 통신 규약의 기반이 된다.
* TCP/IP 모델(Transmission Control Protocol/Internet Protocol model): OSI 모델 7계층의 네트워크에서 데이터를 전송하는 과정을 네 개 계층으로 단순화시켜 사용하는 모델이다. 인터넷 모델이라고도 한다.
* 캡슐화/역캡슐화 : 캡슐화는 컴퓨터 통신에서 상위 계층의 통신 프로토콜 정보를 데이터에 추가하여 하위 계층을 전송하는 기술이다. 반대로 역캡슐화는 상위 계층의 통신 프로토콜에서 하위 계층에서 추가한 정보와 데이터를 분리하는 기술이다.
* 헤더 : 저장되거나 전송되는 데이터의 맨 앞에 위치하는 추가적인 정보 데이터다. 데이터의 내용이나 성격을 식별 또는 제어하는 데 사용한다.
