# 리소스를 엮을 때는 의존성 주입을 선호하라


`어떤 클래스의 동작이 그 클래스가 의존하고 있는 리소스에 따라 달라진다면 의존성 주입을 사용하는게 좋다. 테스트도 편하고 코드도 유연해지고 재사용성도 좋아지기 때문이다.`



SpellChecker , Dictionary 라는 두 클래스가  있다.

SpellChecker에서 스펠링을 체크하는 메서드가 실행 될 때 dictionary가 한국어, 영어, 프랑스어 등 각 언어마다 다른 spellChecker가 있어야 하기에 적절하지 않다.

이럴때 의존성 주입을 사용하는 것이 좋다.

static factory, 생성자, builder 에도 적용할 수 있다.

의존성 주입이 많은 프로젝트인 경우에는 코드가 장황해지는데 이 경우에는 쥬스, 대거, 스프링등을 사용해서 해결할 수 있다.

요약하자면 의존하는 리소스에 따라 행동을 달리하는 클래스를 만들 때는 싱글톤이나 스태틱 유틸 클래스를 사용하지 말자. 그런 경우에는 리소스를 생성자나 팩토리로 전달하는 의존성 주입을 사용하여 유연함, 재사용성, 테스트 용이성을 향상 시키자.